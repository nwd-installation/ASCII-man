<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Word Guess Or Else</title>
	
<!--	<link rel="stylesheet" href="./assets/css/reset.css">
		<link rel="stylesheet" href="./assets/css/style.css"> -->
</head>
<body>
	<div>
		<p id="directions-text">Press any key to get started!</p>
		<p>Wins: <span id ="wins-text"></span></p>
		<p>Number of Guesses Remaining: <span id="guesses-left"></span></p>
		<p>Letters Already Guessed: <span id="letters-guessed"></span></p>
		<p>Current Word Text: <span style="letter-spacing:absolute;" id="current-word"></span></p>
	</div>
	
	<script type="text/javascript">
  
	var directionsText = document.getElementById("directions-text");
	var winsText = document.getElementById("wins-text");
	var guessesLeftText = document.getElementById("guesses-left");
	var lettersGuessedText = document.getElementById("letters-guessed");
	var currentWordText = document.getElementById("current-word");
	var words = [
	"misanthrope",
	"meander",
	"lycanthropy",
	"vertigo",
	"chillblains",
	"homonculous",
	"wendigo",
	"datura",
	"mitre",
	"scramples"
	] ;
	
	var currentWordIndex = 0;
	
	var guessesRemaining = 5; guessesLeftText.textContent = guessesRemaining;
	var wins = 0; winsText.textContent = wins ;
	var lettersGuessed = []; if (lettersGuessed.length == 0) {lettersGuessedText.textContent = "none"} else {lettersGuessedText.textContent = lettersGuessed;};
	
	var currentWord = words[currentWordIndex];
	for (var revealedWord = ""; revealedWord.length < currentWord.length ; revealedWord += '_') {} ;
	currentWordText.textContent = revealedWord;
	
	
	function getAllIndexes(arr, val) {
    var indexes = [];
    for(var i = 0; i < arr.length; i++) {
        if (arr[i] === val) { indexes.push(i); }
	}
	return indexes;
}
	
	//outer while loop condition is while guessesRemaining is greater than zero
	
	// This function is run whenever the user presses a key.
	
	document.onkeyup = function(event) {
	// Determines which key was pressed.
	var userGuess = event.key.toLowerCase();
	
	if ("abcdefghijklmnopqrstuvwxyz".includes(userGuess)) {
		if (!lettersGuessed.includes(userGuess)) //userGuess not in lettersGuessed
			{
				lettersGuessed.push(userGuess); //add userGuess to letters guessed
				lettersGuessedText.textContent = lettersGuessed;
				if (currentWord.includes(userGuess)) { //check if userguess is in the current word
					var ind = getAllIndexes(currentWord, userGuess) ;
					for (var x = 0; x < ind.length; x++) {
						var newstr = revealedWord.substr(0,ind[x]) + userGuess + revealedWord.substr(ind[x]+1,revealedWord.length-1);
						revealedWord = newstr;
					}
					currentWordText.textContent = revealedWord;
					if (revealedWord === currentWord) { console.log("We need to go to next word"); }
				}
				
				else { //else, reduce guessesRemaining by one 
					guessesRemaining--; 
					guessesLeftText.textContent = guessesRemaining;
				}
			}
	}
}
  
  
  </script>  
</body>
</html>
</html>